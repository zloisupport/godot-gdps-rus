# Часть 2 – сцена с монетой
В этой части вы создадите монеты для сбора игроком. Это будет отдельная сцена, описывающая все свойства и
поведение отдельной монеты. После сохранения основная сцена загрузит эту и создаст несколько экземпляров (копий) её.

Нажмите **Scene -> New Scene** и добавьте следующие узлы. Не забудьте установить для дочерних узлов опцию "не выбираемый", как вы делали это в сцене игрока:

::
    Area2D (named Coin ): 
        AnimatedSprite2DCollisionShape2D 
        CollisionShape2D 
::

Убедитесь, что сохраните сцену после добавления узлов.

Настройте **AnimatedSprite2D**, как вы делали это в сцене игрока. На этот раз у вас есть только одна анимация - эффект свечения/искры, который делает монету динамичной и интересной. Добавьте все кадры и установите скорость анимации на 12 FPS. Изображения также немного слишком крупные, поэтому установите значение масштаба **AnimatedSprite2D** равным (0.4, 0.4). В **CollisionShape2D** используйте **CircleShape2D** и измените его размер, чтобы покрыть изображение монеты.

## Использование групп
Группы предоставляют систему маркировки для узлов, позволяя вам выделять похожие узлы. Узел может принадлежать любому количеству групп. Чтобы скрипт игрока правильно обнаруживал монету, вам нужно убедиться, что все монеты будут в группе с именем coins. Выберите узел Coin, нажмите вкладку Node (там же, где вы нашли сигналы) и выберите Groups. Введите coins в поле и нажмите Add:



![Вкладка «Группы»](/img/1-coin/22.png)

## Скрипт монеты 
Ваш следующий шаг - добавить скрипт к узлу **Coin**. Выберите узел и нажмите новую кнопку скрипта, как вы делали
с узлом **Player**. Если вы снимите флажок с опции **Template**, вы получите пустой скрипт без комментариев или
предложений. Код для монеты гораздо короче кода для игрока:
::
    extends Area2D
    var screensize = Vector2.ZERO

    func pickup():
        queue_free() 

::

Помните, что функция pickup() вызывается скриптом игрока. Она определяет, что делать с монетой при сборе. queue_free() - это метод Godot для удаления узлов. Он безопасно удаляет узел из дерева и освобождает его из памяти вместе со всеми его дочерними элементами. Позже вы добавите здесь визуальные и звуковые эффекты, но пока достаточно просто исчезновения монеты.

Удаление узлов
queue_free() не удаляет объект немедленно, а добавляет его в очередь на удаление в конце текущего кадра. Это безопаснее, чем немедленное удаление узла, потому что другой выполняющийся в игре код может все еще нуждаться в узле. Дождавшись конца кадра, Godot может быть уверен, что весь код, который может получить доступ к узлу, завершил выполнение, и узел может быть удален безопасно.

Теперь вы завершили второй из двух объектов, необходимых для этой игры. Объект монеты готов быть размещенным случайным образом на экране, и он может обнаруживать, когда его касается игрок, так что его можно собирать. Оставшаяся часть головоломки - это как объединить все вместе. В следующем разделе вы создадите третью сцену для случайного создания монет и возможности взаимодействия с ними игрока.

